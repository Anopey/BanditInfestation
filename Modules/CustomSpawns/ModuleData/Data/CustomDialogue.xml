<!-- RECOGNIZED CONDITIONS 

HasPartyID(ID)
PartyIDStartsWith(Prefix)
PartyIsInFaction(FactionName)
IsHero(HeroName)

FirstTimeTalkWithHero
IsFriendly
IsHostile
IsDefending
IsAttacking
BarterSuccessful USE THIS ONLY DIRECTLY INSIDE A BARTER.

RECOGNIZED LOGIC

AND: AND & &&
OR: OR | ||
NOT: !

RECOGNIZED CONSEQUENCES. War, Peace, BarterPeace are not yet tested and probably will not work as expected since the Diplomacy System of Custom Spawns is pretty bad right now.

Leave
Battle
War
Peace
Surrender(isPlayer) Enter true or false as parameter. case insensitive.

BARTER CONSEQUENCES are like regular consequences but they have to be attached to a line that the player will never see. This is how the TW system works currently, or at least I couldn't find an easy way to circumvent it. Check examples in Calradia at War for barters.

BarterPeace
BarterNoAttack 

ALTERNATIVE DIALOGUES

Alternative dialogues exist to help with creating variants of a parent without having to copy paste the children.

An alternative dialogue has the same children as its parent in the hierarchy. It is not a child dialogue of its XML parent, but instead has the same children as its parent.
This way, either the dialogue or the alternative dialogue can be an entry to the same dialogue tree while having different conditions, texts, and consequences!

PLAYER ATTRIBUTE

if set to false this is just NPC dialogue.

if set to true this is player dialogue. If multiple player dialogues are triggered at once, then they are displayed as options.

-->

<root>

<!-- BANDITS -->

	<Dialogue condition = "HasPartyID(cs_mountain_raider_squad_template) AND IsAttacking" text = "Aye, what do we 'ave here?">
		<AlternativeDialogue condition = "HasPartyID(cs_mountain_raider_squad_template) AND IsDefending" text = "Aye, m'lord?"/>

		<Dialogue condition = "IsAttacking" text = "Just a walking purse, sir." player = "true" >
			<Dialogue text = "Aye, spill 'em coins then.">
				<Dialogue text = "Ze screen text that no one will see" consequence = "BarterNoAttack">
					<Dialogue condition = "BarterSuccessful" text = "Aye, that should be enough.">
					
					</Dialogue>
					<Dialogue condition = "!BarterSuccessful" text = "Ye an empty purse 'pparently.">

					</Dialogue>
				</Dialogue>
			</Dialogue>
		</Dialogue>
		<Dialogue condition = "IsAttacking" text = "No need to posture! We surrender." consequence = "Surrender(true)" player = "true">
			
		</Dialogue>
		<Dialogue condition = "" text = "Some steel for you thieving rascals!" consequence = "Battle" player = "true">

		</Dialogue>
		<Dialogue condition = "IsDefending" text = "Quite the mouth you have for mountain scum. We'll let you go for now, but you better learn some manners next time." consequence = "Leave" player = "true">
			
		</Dialogue>
	</Dialogue>

<!-- -->


</root>